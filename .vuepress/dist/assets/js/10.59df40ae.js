(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{366:function(t,e,s){"use strict";s.r(e);var r=s(44),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"best-practice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#best-practice"}},[t._v("#")]),t._v(" Best Practice")]),t._v(" "),s("h2",{attrs:{id:"blob"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blob"}},[t._v("#")]),t._v(" Blob")]),t._v(" "),s("ol",[s("li",[t._v("create two containers for bus picture and user picture (buspicture, userpicture)")]),t._v(" "),s("li",[t._v("access tier = cool")]),t._v(" "),s("li",[t._v("picture file name = ozUser.ID , ozBus.ID")])]),t._v(" "),s("h2",{attrs:{id:"how-bus-keep-update-system"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-bus-keep-update-system"}},[t._v("#")]),t._v(" How bus keep update system")]),t._v(" "),s("h3",{attrs:{id:"_1-when-driver-trigger-start-button"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-when-driver-trigger-start-button"}},[t._v("#")]),t._v(" 1. When driver trigger start button")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("1.1 update ozRoute.RouteStepStatusID=RouteBusStart\n1.2 insert ozRouteHistory and RouteStepStatusID=Start (also update ozRouteHistory.RouteStepStatusID=ForceStop IF status still is RouteStepStatusID=Start)\n1.3 insert ozRouteStepHistory\n1.4 check if exist Radis.key (ozRoute.ID {routeID=2:*}) then delete\n1.5 create Radis.key (ozRouteID.ID { routeID=2:routeHistoryID=256 }) with Radis.value (json format with bus location timeStamp), set expire for 1hr\n")])])]),s("h3",{attrs:{id:"_2-driver-update-system-in-every-3-sec"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-driver-update-system-in-every-3-sec"}},[t._v("#")]),t._v(" 2. driver update system in every 3 sec.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("2.1 update ozRouteHistory.LastUpdateDt , ozRouteHistory.CurrentLocation\n2.2 insert ozRouteStepHistory\n2.3 udpate Radis.value with latest location if exist Radis.key (ozRouteID.ID { routeID=2:routeHistoryID=256 }) , else insert Radis.key, set expire for 1hr\n")])])]),s("h3",{attrs:{id:"_3-passenger-trigger-bus-location-button"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-passenger-trigger-bus-location-button"}},[t._v("#")]),t._v(" 3. passenger trigger bus location button")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("3.1 query if exist Radis.key , then return bus location (in json format)\n")])])]),s("h3",{attrs:{id:"_4-driver-trigger-stop-button"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-driver-trigger-stop-button"}},[t._v("#")]),t._v(" 4. driver trigger stop button")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("4.1 update ozRoute.RouteStepStatusID=RouteBusStop\n4.2 update ozRouteHistory.RouteStepStatusID=Stop\n4.3 insert ozRouteStepHistory\n4.4 check if exist Radis.key (ozRoute.ID {routeID=2:*}) then delete\n")])])]),s("h2",{attrs:{id:"radis-key-definition"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#radis-key-definition"}},[t._v("#")]),t._v(" Radis key definition")]),t._v(" "),s("p",[s("code",[t._v("key")]),t._v(" "),s("Badge",{attrs:{text:"routeID=123:routeHistoryID=789",type:"tip",vertical:"middle"}})],1),t._v(" "),s("p",[s("code",[t._v("value")]),t._v(" "),s("Badge",{attrs:{text:"json format included timestamp, bus location,  userRoute records",type:"tip",vertical:"middle"}})],1)])}),[],!1,null,null,null);e.default=a.exports}}]);